#zookeeper
## zookeeper是个啥

zookeeper 是一个高可用的分布式数据库管理与系统协调框架，一切分布式功能基于 zookeeper的数据结构。

## zookeeper的角色
> * leader      接受客户端请求，对操作结果进行投票
> * follower    接受读请求，直接从本地内存数据库返回，写请求，转发给leader
> * observer    和follower角色类似，但不参与选主

## zookeeper 节点
> * 临时节点，客户端断开连接时，创建的节点会自动删除
> * 顺序节点，按照一定的顺序生成节点

## watch

## 权限控制

# 应用
## 分布式锁，锁机制可以通过lock接口实现
1. 在某一节点下创建临时顺序节点,并设置监控
2. 获取父节点下的所有节点，判断当前客户端创建的节点是否最小。
3. 如果最小，就认为获得锁，执行业务逻辑，如果不是最小，阻塞等待。获得锁的线程完成后，删除本节点，其他节点会收到通知。

## 软负载均衡

临时节点，客户端断开，节点就会删除。服务主机关闭时，节点会删除，服务主机宕机时，收不到心跳，节点会删除

## 名字服务
顺序节点（需要做实验）


