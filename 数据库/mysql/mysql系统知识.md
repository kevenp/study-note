## 基础架构
### 连接器

监听端口，建立和客户端的链接，进行鉴权，管理连接。连接对象包含：权限，执行内存等等，设置权限后，需要重连，才起作用。长连接，有可能导致连接的内存一直增长，解决办法：1.定期断开连接。2.执行大的sql查询后，执行mysql_reset_connection。

### 查询缓存
查询的sql语句先在缓存中查找，找到直接返回。没有就执行下一步。设置 `query_cache_type`

**显式指定使用查询缓存**

    select SQL_CACHE * from ...

### 分析器

分析sql的语法。词法分析，分析sql语句各个关键字，对应表面，列明。语法分析，语句是否满足sql语法

### 优化器
优化sql语句，选用合适的索引。

### 执行器

判断是否有执行查询的权限。没有，就返回错误。有就继续打开表，执行器根据表的引擎定义，使用对应的引擎接口